import{p as w,m as W,a as j,g as E,u as H,c as a,b as X,d as Z,e as ee,f as te,h as ae,t as R,i as oe,j as le,k as se,l as ne,n as ve,s as _,o as d,q as me,V as re,r as D,v as L,w as ge,x as q,y as he,z as U,A as fe,B as be,C as ue,D as ye,E as Ve,F as ke,G as ie,H as ce,I as _e,J as xe,K as T,L as Se,M as pe,N as Te,O as we,P as Be,Q as Ce,R as y,S,T as n,U as Pe,W as Y,X as P,Y as M,Z as N,_ as p,$ as G,a0 as A,a1 as J,a2 as I,a3 as K,a4 as Ne,a5 as F,a6 as Ae,a7 as $}from"./index-3c30c933.js";import{V as Ie,a as Le,b as O}from"./VRow-c2698dd1.js";import{V as Re,a as Fe}from"./VNavigationDrawer-01e645d7.js";const Ee=w({text:String,...W(),...j()},"VToolbarTitle"),He=E()({name:"VToolbarTitle",props:Ee(),setup(e,h){let{slots:t}=h;return H(()=>{const u=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[u&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(r=t.default)==null?void 0:r.call(t)])]}})}),{}}}),ze=[null,"prominent","default","comfortable","compact"],de=w({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ze.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...X(),...W(),...Z(),...ee(),...j({tag:"header"}),...te()},"VToolbar"),Q=E()({name:"VToolbar",props:de(),setup(e,h){var s;let{slots:t}=h;const{backgroundColorClasses:u,backgroundColorStyles:r}=ae(R(e,"color")),{borderClasses:o}=oe(e),{elevationClasses:v}=le(e),{roundedClasses:m}=se(e),{themeClasses:V}=ne(e),{rtlClasses:f}=ve(),i=_(!!(e.extended||(s=t.extension)!=null&&s.call(t))),b=d(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=d(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return me({VBtn:{variant:"text"}}),H(()=>{var c;const k=!!(e.title||t.title),l=!!(t.image||e.image),z=(c=t.extension)==null?void 0:c.call(t);return i.value=!!(e.extended||z),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,o.value,v.value,m.value,V.value,f.value,e.class],style:[r.value,e.style]},{default:()=>[l&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(D,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(re,{key:"image-img",cover:!0,src:e.image},null)]),a(D,{defaults:{VTabs:{height:L(b.value)}}},{default:()=>{var x,B,C;return[a("div",{class:"v-toolbar__content",style:{height:L(b.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(x=t.prepend)==null?void 0:x.call(t)]),k&&a(He,{key:"title",text:e.title},{text:t.title}),(B=t.default)==null?void 0:B.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(C=t.append)==null?void 0:C.call(t)])])]}}),a(D,{defaults:{VTabs:{height:L(g.value)}}},{default:()=>[a(ge,null,{default:()=>[i.value&&a("div",{class:"v-toolbar__extension",style:{height:L(g.value)}},[z])]})]})]})}),{contentHeight:b,extensionHeight:g}}}),Ue=w({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function De(e){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=h;let u=0;const r=q(null),o=_(0),v=_(0),m=_(0),V=_(!1),f=_(!1),i=d(()=>Number(e.scrollThreshold)),b=d(()=>he((i.value-o.value)/i.value||0)),g=()=>{const s=r.value;!s||t&&!t.value||(u=o.value,o.value="window"in s?s.pageYOffset:s.scrollTop,f.value=o.value<u,m.value=Math.abs(o.value-i.value))};return U(f,()=>{v.value=v.value||o.value}),U(V,()=>{v.value=0}),fe(()=>{U(()=>e.scrollTarget,s=>{var l;const k=s?document.querySelector(s):window;k&&k!==r.value&&((l=r.value)==null||l.removeEventListener("scroll",g),r.value=k,r.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),be(()=>{var s;(s=r.value)==null||s.removeEventListener("scroll",g)}),t&&U(t,g,{immediate:!0}),{scrollThreshold:i,currentScroll:o,currentThreshold:m,isScrollActive:V,scrollRatio:b,isScrollingUp:f,savedScroll:v}}const Me=w({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...de(),...ue(),...Ue(),height:{type:[Number,String],default:64}},"VAppBar"),$e=E()({name:"VAppBar",props:Me(),emits:{"update:modelValue":e=>!0},setup(e,h){let{slots:t}=h;const u=q(),r=ye(e,"modelValue"),o=d(()=>{var x;const c=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:c.has("hide"),inverted:c.has("inverted"),collapse:c.has("collapse"),elevate:c.has("elevate"),fadeImage:c.has("fade-image")}}),v=d(()=>{const c=o.value;return c.hide||c.inverted||c.collapse||c.elevate||c.fadeImage||!r.value}),{currentScroll:m,scrollThreshold:V,isScrollingUp:f,scrollRatio:i}=De(e,{canScroll:v}),b=d(()=>e.collapse||o.value.collapse&&(o.value.inverted?i.value>0:i.value===0)),g=d(()=>e.flat||o.value.elevate&&(o.value.inverted?m.value>0:m.value===0)),s=d(()=>o.value.fadeImage?o.value.inverted?1-i.value:i.value:void 0),k=d(()=>{var B,C;if(o.value.hide&&o.value.inverted)return 0;const c=((B=u.value)==null?void 0:B.contentHeight)??0,x=((C=u.value)==null?void 0:C.extensionHeight)??0;return c+x});Ve(d(()=>!!e.scrollBehavior),()=>{_e(()=>{o.value.hide?o.value.inverted?r.value=m.value>V.value:r.value=f.value||m.value<V.value:r.value=!0})});const{ssrBootStyles:l}=ke(),{layoutItemStyles:z}=ie({id:e.name,order:d(()=>parseInt(e.order,10)),position:R(e,"location"),layoutSize:k,elementSize:_(void 0),active:r,absolute:R(e,"absolute")});return H(()=>{const[c]=Q.filterProps(e);return a(Q,ce({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...z.value,"--v-toolbar-image-opacity":s.value,height:void 0,...l.value},e.style]},c,{collapse:b.value,flat:g.value}),t)}),{}}}),Oe=w({...xe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),We=E()({name:"VAppBarNavIcon",props:Oe(),setup(e,h){let{slots:t}=h;return H(()=>a(T,ce(e,{class:["v-app-bar-nav-icon"]}),t)),{}}});const je=w({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...X(),...W(),...Z(),...ue(),...ee(),...j({tag:"footer"}),...te()},"VFooter"),qe=E()({name:"VFooter",props:je(),setup(e,h){let{slots:t}=h;const{themeClasses:u}=ne(e),{backgroundColorClasses:r,backgroundColorStyles:o}=ae(R(e,"color")),{borderClasses:v}=oe(e),{elevationClasses:m}=le(e),{roundedClasses:V}=se(e),f=_(32),{resizeRef:i}=Se(s=>{s.length&&(f.value=s[0].target.clientHeight)}),b=d(()=>e.height==="auto"?f.value:parseInt(e.height,10)),{layoutItemStyles:g}=ie({id:e.name,order:d(()=>parseInt(e.order,10)),position:d(()=>"bottom"),layoutSize:b,elementSize:d(()=>e.height==="auto"?void 0:b.value),active:d(()=>e.app),absolute:R(e,"absolute")});return H(()=>a(e.tag,{ref:i,class:["v-footer",u.value,r.value,v.value,m.value,V.value,e.class],style:[o.value,e.app?g.value:{height:L(e.height)},e.style]},t)),{}}}),Ye="/assets/logosake2-2ecbba6e.png",Ge="/assets/sakelogo-9d98154d.png",Je=F("h4",null,"FOLLOW US",-1),Ke={href:"https://www.facebook.com/1SakeMomo/?locale=zh_TW",target:"_blank"},Qe={href:"https://www.instagram.com/sakemomobistro/",target:"_blank"},Xe=F("a",{href:"/"},[F("img",{src:Ge})],-1),at={__name:"FrontLayout",setup(e){const h=pe(),t=Te(),{isLogin:u,isAdmin:r}=we(t),{mobile:o}=Be(),v=d(()=>o.value),m=q(!1),V=[{to:"/aboutus",text:"關於我們"},{to:"/menu",text:"菜單"},{to:"/contact",text:"聯絡我們"}],f=[{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!u.value},{to:"/login",text:"登入",icon:"mdi-login",show:!u.value},{to:"/reservation",text:"訂位",icon:"mdi-calendar-check",show:u.value},{to:"/userCenter",text:"會員中心",icon:"mdi-account",show:u.value},{to:"/admin",text:"管理",icon:"mdi-cog",show:u.value&&r.value}],i=async()=>{try{await Ae.delete("/users/logout"),t.logout(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(g){h({text:g.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};function b(){window.scrollTo({top:0,behavior:"smooth"})}return(g,s)=>{const k=Ce("router-view");return y(),S(Pe,null,{default:n(()=>[a($e,{color:"#863436"},{default:n(()=>[a(Ie,{class:"d-flex align-center"},{default:n(()=>[a(T,{to:"/",active:!1},{default:n(()=>[a(re,{src:Ye,width:45,class:"barlogo"})]),_:1}),a(Y),(y(),P(N,null,M(V,l=>a(T,{key:l.to,to:l.to},{default:n(()=>[A($(l.text),1)]),_:2},1032,["to"])),64)),a(Y),v.value?(y(),S(We,{key:0,onClick:s[0]||(s[0]=l=>m.value=!0)})):p("",!0),v.value?p("",!0):(y(),P(N,{key:1},M(f,l=>(y(),P(N,{key:l.to},[l.show?(y(),S(T,{key:0,variant:"text","prepend-icon":l.icon,to:l.to},{default:n(()=>[A($(l.text),1)]),_:2},1032,["prepend-icon","to"])):p("",!0)],64))),64)),!v.value&&G(u)?(y(),S(T,{key:2,variant:"text","prepend-icon":"mdi-logout",onClick:i},{default:n(()=>[A("登出")]),_:1})):p("",!0)]),_:1})]),_:1}),v.value?(y(),S(Re,{key:0,modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=l=>m.value=l),location:"right",temporary:""},{default:n(()=>[a(Ne,{nav:""},{default:n(()=>[(y(),P(N,null,M(f,l=>(y(),P(N,{key:l.to},[l.show?(y(),S(J,{key:0,to:l.to},{prepend:n(()=>[a(I,{icon:l.icon},null,8,["icon"])]),default:n(()=>[a(K,null,{default:n(()=>[A($(l.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),64)),G(u)?(y(),S(J,{key:0,onClick:i},{prepend:n(()=>[a(I,{icon:"mdi-logout"})]),default:n(()=>[a(K,null,{default:n(()=>[A("登出")]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1},8,["modelValue"])):p("",!0),a(Fe,null,{default:n(()=>[a(k)]),_:1}),a(qe,{fixed:"",class:"SakeFooter"},{default:n(()=>[a(Le,{class:"justify-space-between"},{default:n(()=>[a(O,{class:"footerFollow"},{default:n(()=>[Je,F("a",Ke,[a(I,{icon:"mdi-facebook"})]),F("a",Qe,[a(I,{icon:"mdi-instagram"})])]),_:1}),a(O,null,{default:n(()=>[Xe]),_:1}),a(O,null,{default:n(()=>[a(T,{variant:"text",fab:"",bottom:"",right:"",onClick:b},{default:n(()=>[a(I,{icon:"mdi-arrow-up-drop-circle-outline"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{at as default};
