import{p as T,m as W,a as j,g as E,u as H,c as a,b as X,d as Z,e as ee,f as te,h as ae,t as I,i as oe,j as le,k as se,l as ne,n as ve,s as _,o as i,q as me,V as re,r as D,v as A,w as ge,x as q,y as he,z,A as fe,B as be,C as ue,D as ye,E as ke,F as Ve,G as ie,H as ce,I as _e,J as xe,K as w,L as Se,M as pe,N as we,O as Te,P as Be,Q as Ce,R as y,S,T as n,U as Pe,W as Y,X as P,Y as M,Z as N,_ as p,$ as G,a0 as L,a1 as J,a2 as R,a3 as K,a4 as Ne,a5 as F,a6 as Le,a7 as $}from"./index-de6485a9.js";import{V as Re,a as Ae,b as O}from"./VRow-4f07add0.js";import{V as Ie,a as Fe}from"./VNavigationDrawer-f71e2343.js";const Ee=T({text:String,...W(),...j()},"VToolbarTitle"),He=E()({name:"VToolbarTitle",props:Ee(),setup(e,h){let{slots:t}=h;return H(()=>{const u=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[u&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(r=t.default)==null?void 0:r.call(t)])]}})}),{}}}),Ue=[null,"prominent","default","comfortable","compact"],de=T({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ue.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...X(),...W(),...Z(),...ee(),...j({tag:"header"}),...te()},"VToolbar"),Q=E()({name:"VToolbar",props:de(),setup(e,h){var s;let{slots:t}=h;const{backgroundColorClasses:u,backgroundColorStyles:r}=ae(I(e,"color")),{borderClasses:o}=oe(e),{elevationClasses:v}=le(e),{roundedClasses:m}=se(e),{themeClasses:k}=ne(e),{rtlClasses:f}=ve(),c=_(!!(e.extended||(s=t.extension)!=null&&s.call(t))),b=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),g=i(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return me({VBtn:{variant:"text"}}),H(()=>{var d;const V=!!(e.title||t.title),l=!!(t.image||e.image),U=(d=t.extension)==null?void 0:d.call(t);return c.value=!!(e.extended||U),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,o.value,v.value,m.value,k.value,f.value,e.class],style:[r.value,e.style]},{default:()=>[l&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(D,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(re,{key:"image-img",cover:!0,src:e.image},null)]),a(D,{defaults:{VTabs:{height:A(b.value)}}},{default:()=>{var x,B,C;return[a("div",{class:"v-toolbar__content",style:{height:A(b.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(x=t.prepend)==null?void 0:x.call(t)]),V&&a(He,{key:"title",text:e.title},{text:t.title}),(B=t.default)==null?void 0:B.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(C=t.append)==null?void 0:C.call(t)])])]}}),a(D,{defaults:{VTabs:{height:A(g.value)}}},{default:()=>[a(ge,null,{default:()=>[c.value&&a("div",{class:"v-toolbar__extension",style:{height:A(g.value)}},[U])]})]})]})}),{contentHeight:b,extensionHeight:g}}}),ze=T({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function De(e){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=h;let u=0;const r=q(null),o=_(0),v=_(0),m=_(0),k=_(!1),f=_(!1),c=i(()=>Number(e.scrollThreshold)),b=i(()=>he((c.value-o.value)/c.value||0)),g=()=>{const s=r.value;!s||t&&!t.value||(u=o.value,o.value="window"in s?s.pageYOffset:s.scrollTop,f.value=o.value<u,m.value=Math.abs(o.value-c.value))};return z(f,()=>{v.value=v.value||o.value}),z(k,()=>{v.value=0}),fe(()=>{z(()=>e.scrollTarget,s=>{var l;const V=s?document.querySelector(s):window;V&&V!==r.value&&((l=r.value)==null||l.removeEventListener("scroll",g),r.value=V,r.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),be(()=>{var s;(s=r.value)==null||s.removeEventListener("scroll",g)}),t&&z(t,g,{immediate:!0}),{scrollThreshold:c,currentScroll:o,currentThreshold:m,isScrollActive:k,scrollRatio:b,isScrollingUp:f,savedScroll:v}}const Me=T({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...de(),...ue(),...ze(),height:{type:[Number,String],default:64}},"VAppBar"),$e=E()({name:"VAppBar",props:Me(),emits:{"update:modelValue":e=>!0},setup(e,h){let{slots:t}=h;const u=q(),r=ye(e,"modelValue"),o=i(()=>{var x;const d=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:d.has("hide"),inverted:d.has("inverted"),collapse:d.has("collapse"),elevate:d.has("elevate"),fadeImage:d.has("fade-image")}}),v=i(()=>{const d=o.value;return d.hide||d.inverted||d.collapse||d.elevate||d.fadeImage||!r.value}),{currentScroll:m,scrollThreshold:k,isScrollingUp:f,scrollRatio:c}=De(e,{canScroll:v}),b=i(()=>e.collapse||o.value.collapse&&(o.value.inverted?c.value>0:c.value===0)),g=i(()=>e.flat||o.value.elevate&&(o.value.inverted?m.value>0:m.value===0)),s=i(()=>o.value.fadeImage?o.value.inverted?1-c.value:c.value:void 0),V=i(()=>{var B,C;if(o.value.hide&&o.value.inverted)return 0;const d=((B=u.value)==null?void 0:B.contentHeight)??0,x=((C=u.value)==null?void 0:C.extensionHeight)??0;return d+x});ke(i(()=>!!e.scrollBehavior),()=>{_e(()=>{o.value.hide?o.value.inverted?r.value=m.value>k.value:r.value=f.value||m.value<k.value:r.value=!0})});const{ssrBootStyles:l}=Ve(),{layoutItemStyles:U}=ie({id:e.name,order:i(()=>parseInt(e.order,10)),position:I(e,"location"),layoutSize:V,elementSize:_(void 0),active:r,absolute:I(e,"absolute")});return H(()=>{const[d]=Q.filterProps(e);return a(Q,ce({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...U.value,"--v-toolbar-image-opacity":s.value,height:void 0,...l.value},e.style]},d,{collapse:b.value,flat:g.value}),t)}),{}}}),Oe=T({...xe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),We=E()({name:"VAppBarNavIcon",props:Oe(),setup(e,h){let{slots:t}=h;return H(()=>a(w,ce(e,{class:["v-app-bar-nav-icon"]}),t)),{}}});const je=T({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...X(),...W(),...Z(),...ue(),...ee(),...j({tag:"footer"}),...te()},"VFooter"),qe=E()({name:"VFooter",props:je(),setup(e,h){let{slots:t}=h;const{themeClasses:u}=ne(e),{backgroundColorClasses:r,backgroundColorStyles:o}=ae(I(e,"color")),{borderClasses:v}=oe(e),{elevationClasses:m}=le(e),{roundedClasses:k}=se(e),f=_(32),{resizeRef:c}=Se(s=>{s.length&&(f.value=s[0].target.clientHeight)}),b=i(()=>e.height==="auto"?f.value:parseInt(e.height,10)),{layoutItemStyles:g}=ie({id:e.name,order:i(()=>parseInt(e.order,10)),position:i(()=>"bottom"),layoutSize:b,elementSize:i(()=>e.height==="auto"?void 0:b.value),active:i(()=>e.app),absolute:I(e,"absolute")});return H(()=>a(e.tag,{ref:c,class:["v-footer",u.value,r.value,v.value,m.value,k.value,e.class],style:[o.value,e.app?g.value:{height:A(e.height)},e.style]},t)),{}}}),Ye=""+new URL("logosake2-2ecbba6e.png",import.meta.url).href,Ge=""+new URL("sakelogo-9d98154d.png",import.meta.url).href,Je=F("h4",null,"FOLLOW US",-1),Ke={href:"https://www.facebook.com/1SakeMomo/?locale=zh_TW",target:"_blank"},Qe={href:"https://www.instagram.com/sakemomobistro/",target:"_blank"},Xe=F("a",{href:"/"},[F("img",{src:Ge})],-1),at={__name:"FrontLayout",setup(e){const h=pe(),t=we(),{isLogin:u,isAdmin:r}=Te(t),{mobile:o}=Be(),v=i(()=>o.value),m=q(!1),k=[{to:"/aboutus",text:"關於我們"},{to:"/menu",text:"菜單"},{to:"/contact",text:"聯絡我們"}],f=i(()=>[{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!u.value},{to:"/login",text:"登入",icon:"mdi-login",show:!u.value},{to:"/reservation",text:"訂位",icon:"mdi-calendar-check",show:u.value},{to:"/userCenter",text:"會員中心",icon:"mdi-account",show:u.value},{to:"/admin",text:"管理",icon:"mdi-cog",show:u.value&&r.value}]),c=async()=>{try{await Le.delete("/users/logout"),t.logout(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(g){h({text:g.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};function b(){window.scrollTo({top:0,behavior:"smooth"})}return(g,s)=>{const V=Ce("router-view");return y(),S(Pe,null,{default:n(()=>[a($e,{color:"#863436"},{default:n(()=>[a(Re,{class:"d-flex align-center"},{default:n(()=>[a(w,{to:"/",active:!1},{default:n(()=>[a(re,{src:Ye,width:45,class:"barlogo"})]),_:1}),a(Y),(y(),P(N,null,M(k,l=>a(w,{key:l.to,to:l.to},{default:n(()=>[L($(l.text),1)]),_:2},1032,["to"])),64)),a(Y),v.value?(y(),S(We,{key:0,onClick:s[0]||(s[0]=l=>m.value=!0)})):p("",!0),v.value?p("",!0):(y(!0),P(N,{key:1},M(f.value,l=>(y(),P(N,{key:l.to},[l.show?(y(),S(w,{key:0,variant:"text","prepend-icon":l.icon,to:l.to},{default:n(()=>[L($(l.text),1)]),_:2},1032,["prepend-icon","to"])):p("",!0)],64))),128)),!v.value&&G(u)?(y(),S(w,{key:2,variant:"text","prepend-icon":"mdi-logout",onClick:c},{default:n(()=>[L("登出")]),_:1})):p("",!0)]),_:1})]),_:1}),v.value?(y(),S(Ie,{key:0,modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=l=>m.value=l),location:"right",temporary:""},{default:n(()=>[a(Ne,{nav:""},{default:n(()=>[(y(!0),P(N,null,M(f.value,l=>(y(),P(N,{key:l.to},[l.show?(y(),S(J,{key:0,to:l.to},{prepend:n(()=>[a(R,{icon:l.icon},null,8,["icon"])]),default:n(()=>[a(K,null,{default:n(()=>[L($(l.text),1)]),_:2},1024)]),_:2},1032,["to"])):p("",!0)],64))),128)),G(u)?(y(),S(J,{key:0,onClick:c},{prepend:n(()=>[a(R,{icon:"mdi-logout"})]),default:n(()=>[a(K,null,{default:n(()=>[L("登出")]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1},8,["modelValue"])):p("",!0),a(Fe,null,{default:n(()=>[a(V)]),_:1}),a(qe,{fixed:"",class:"SakeFooter",style:{"background-color":"#863436"}},{default:n(()=>[a(Ae,{class:"justify-space-between"},{default:n(()=>[a(O,{class:"footerFollow"},{default:n(()=>[Je,F("a",Ke,[a(R,{icon:"mdi-facebook"})]),F("a",Qe,[a(R,{icon:"mdi-instagram"})])]),_:1}),a(O,null,{default:n(()=>[Xe]),_:1}),a(O,null,{default:n(()=>[a(w,{variant:"text",fab:"",bottom:"",right:"",onClick:b},{default:n(()=>[a(R,{icon:"mdi-arrow-up-drop-circle-outline"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{at as default};
